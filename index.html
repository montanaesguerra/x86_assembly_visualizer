<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Assembly Visualizer – Starter</title>
    <link rel="stylesheet" href="style.css?v=14">
  </head>
  <body>
    <header>
      <h1>Assembly Visualizer • x86 (32-bit)</h1>
      <div class="controls">
        <select id="demoSelect" class="control-select" aria-label="Select demo">
          <option value="" selected>Select a demo…</option>
          <option value="arithmetic">Arithmetic</option>
          <option value="test">test</option>
          <option value="test2">test2</option>
          <option value="moves">Moves</option>
          <!--<option value="cmp-test" disabled>cmp/test (coming soon)</option> -->
          <option value="stack">Stack</option>
        </select>
        <button id="loadDemo">Load</button>
        <button id="stepBtn">Step ▶</button>
        <button id="resetBtn" class="btn-secondary" disabled>Reset ↺</button>
      </div>
    </header>

    <main class="grid">
      <!-- Column 1: Instructions -->
      <section class="panel" id="col-asm">
        <header><h2>Instructions</h2></header>
        <div class="panel-body">
          <ol class="asm-list" id="asmList"></ol>
          <p class="hint">Tip: highlight shows the current instruction (EIP). Change instructions by selecting a demo</p>
        </div>
      </section>

      <!-- Column 2: Registers & Flags -->
      <section class="panel" id="col-regs">
        <header><h2>Registers & Flags</h2></header>
        <div class="panel-body" id="regsBody">
          <!-- Registers injected by JS -->
          <div class="flags" id="flags"></div>
          <p class="hint">Flags light up when set. (CF, ZF, SF, OF, PF, AF)</p>
        </div>
      </section>

      <!-- Column 3: Memory Placeholder -->
      <section class="panel" id="col-mem">
        <header><h2>Memory</h2></header>
        <div class="panel-body">
          <table class="mem-table" id="memTable">
            <thead>
              <tr><th>Address</th><th>Bytes</th><th>Ascii</th></tr>
            </thead>
            <tbody></tbody>
          </table>
          <!--<p class="hint">Use <code>writeMem(addr, bytes)</code> in JS to demo loads like <code>mov ebx, [eax]</code>.</p> -->
        </div>
      </section>

      <!-- Column 4: Stack -->
      <section class="panel" id="col-stack">
        <header><h2>Stack (conceptual)</h2></header>
        <div class="panel-body">
          <div class="stack-meta">Top of stack is at the bottom. <code>push</code> adds, <code>pop</code> removes.</div>
          <div class="stack" id="stack"></div>
          <p class="hint">In x86, the stack grows downward in memory. We display the top-most element at the bottom for readability.</p>
        </div>
      </section>
    </main>

    <script src="app.js?v=14"></script>
  </body>
</html>
